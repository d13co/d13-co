<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Set Up Voi Participation Node on Ubuntu 22.04 | D13.co</title>
<meta name=keywords content><meta name=description content="This article will guide you through setting up a Voi participation node on the latest Ubuntu LTS (22.04). It assumes you start with a local or remote (server/cloud) installation. Version 20.04 should also work, but is not tested extensively. This guide is only suitable for x86 architecture machines as it relies on the Algorand repository, which does not publish packages for other architectures such as ARM64.
‚ö†Ô∏èDo not follow this guide if you are running an existing Algorand node on the same server, at it will likely overwrite your Algorand installation."><meta name=author content="Bit @ D13.co"><link rel=canonical href=https://d13.co/posts/set-up-voi-participation-node/><link crossorigin=anonymous href=/assets/css/stylesheet.4d47a558fed7688229f8bb73344ccfcd4003dac666a96a34cc665d38ad5f6ec8.css integrity="sha256-TUelWP7XaIIp+LtzNEzPzUAD2sZmqWo0zGZdOK1fbsg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://d13.co/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://d13.co/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://d13.co/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://d13.co/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://d13.co/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Set Up Voi Participation Node on Ubuntu 22.04"><meta property="og:description" content="This article will guide you through setting up a Voi participation node on the latest Ubuntu LTS (22.04). It assumes you start with a local or remote (server/cloud) installation. Version 20.04 should also work, but is not tested extensively. This guide is only suitable for x86 architecture machines as it relies on the Algorand repository, which does not publish packages for other architectures such as ARM64.
‚ö†Ô∏èDo not follow this guide if you are running an existing Algorand node on the same server, at it will likely overwrite your Algorand installation."><meta property="og:type" content="article"><meta property="og:url" content="https://d13.co/posts/set-up-voi-participation-node/"><meta property="og:image" content="https://d13.co/voi.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-09-06T08:19:15+05:00"><meta property="article:modified_time" content="2023-09-06T08:19:15+05:00"><meta property="og:site_name" content="D13.co"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://d13.co/voi.png"><meta name=twitter:title content="Set Up Voi Participation Node on Ubuntu 22.04"><meta name=twitter:description content="This article will guide you through setting up a Voi participation node on the latest Ubuntu LTS (22.04). It assumes you start with a local or remote (server/cloud) installation. Version 20.04 should also work, but is not tested extensively. This guide is only suitable for x86 architecture machines as it relies on the Algorand repository, which does not publish packages for other architectures such as ARM64.
‚ö†Ô∏èDo not follow this guide if you are running an existing Algorand node on the same server, at it will likely overwrite your Algorand installation."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://d13.co/posts/"},{"@type":"ListItem","position":2,"name":"Set Up Voi Participation Node on Ubuntu 22.04","item":"https://d13.co/posts/set-up-voi-participation-node/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Set Up Voi Participation Node on Ubuntu 22.04","name":"Set Up Voi Participation Node on Ubuntu 22.04","description":"This article will guide you through setting up a Voi participation node on the latest Ubuntu LTS (22.04). It assumes you start with a local or remote (server/cloud) installation. Version 20.04 should also work, but is not tested extensively. This guide is only suitable for x86 architecture machines as it relies on the Algorand repository, which does not publish packages for other architectures such as ARM64.\n‚ö†Ô∏è\rDo not follow this guide if you are running an existing Algorand node on the same server, at it will likely overwrite your Algorand installation.","keywords":[],"articleBody":"This article will guide you through setting up a Voi participation node on the latest Ubuntu LTS (22.04). It assumes you start with a local or remote (server/cloud) installation. Version 20.04 should also work, but is not tested extensively. This guide is only suitable for x86 architecture machines as it relies on the Algorand repository, which does not publish packages for other architectures such as ARM64.\n‚ö†Ô∏è\rDo not follow this guide if you are running an existing Algorand node on the same server, at it will likely overwrite your Algorand installation.\rü™ô You will need to have some $VOI balance to complete this guide. You will need $VOI because:\nTransacting on the VOI network requires a small fee (0.001 $VOI) Participating in consensus is proportional to your balance The last step of this guide includes ‚Äúgoing online‚Äù, i.e. registering to participate in consensus. This is an on-chain transaction that costs 0.001 $VOI.\nIf you do not have $VOI yet, you can still complete all steps until that point while you wait to get some $VOI.\nYou can get 1 VOI to participate by running the command /voi-testnet-faucet on #node-runners on the Voi Discord.\n‚ÑπÔ∏è\rCode blocks can be copied for your convenience.\rHardware Requirements You will need the following specs for your participation node:\nCPU with 8 threads (4 core / 8 thread is fine) 16 GB RAM 100 GB NVMe SSD or equivalent 100 Mbps connection minimum Ideally: 1 Gbps connection with low latency Must be always online Check your Ubuntu version Check that you are running Ubuntu. Run this command:\nlsb_release -a It should output a version of Ubuntu:\nNo LSB modules are available. Distributor ID:\tUbuntu Description:\tUbuntu 22.04.3 LTS Release:\t22.04 Codename:\tjammy 20.04 should also work.\nCheck your architecture Check that you are on an x86 machine. Run this command:\nuname -p Expected output: x86_64.\nIf you get a different response (such as aarch64 for ARM64) then this guide will not work as-is due to ARM packages of Algorand not being available through the repository that this guide uses.\n‚ö° If you are technically savvy and on a non-x86 machine‚Ä¶ You can start with Step 5 of the Algorand-Oracle guide to install algod and then resume from the [set up your shell to run goal](#set up your shell to run goal) part but you will need to modify the commands:\nreplacing /var/lib/algorand with /home/ubuntu/node/data everywhere assuming your user is ubuntu. Check this with the command whoami. run: sudo apt install -y jq run: echo 'export PATH=$PATH:/home/ubuntu/node' \u003e\u003e ~/.bashrc \u0026\u0026 source ~/.bashrc skip the ‚ÄúSet up your user‚Äù command: sudo adduser $(whoami) algorand \u0026\u0026 echo OK skip the ‚ÄúRename the algorand service to voi‚Äù part skip the sudo chown algorand:algorand commands skip the sudo chmod g+w /var/lib/algorand/config.json command the systemctl commands need to be modified, instead of systemctl start voi you will need systemctl start algorand@-home-ubuntu-node-data remove sudo except for systemctl commands Update your software to the latest versions Run:\nsudo apt update \u0026\u0026 export DEBIAN_FRONTEND=noninteractive \u0026\u0026 sudo apt-get upgrade -y \u0026\u0026 echo OK Expected output:\n(many lines...) ? upgraded, ? newly installed, ? to remove and ? not upgraded. OK Enable automatic software upgrades Run this, which will keep your node software up to date:\nsudo systemctl start unattended-upgrades \u0026\u0026 sudo systemctl enable unattended-upgrades Expected output:\nSynchronizing state of unattended-upgrades.service with SysV service script with /lib/systemd/systemd-sysv-install. Executing: /lib/systemd/systemd-sysv-install enable unattended-upgrades Install Algorand node software ‚ö†Ô∏è\rDo not follow this guide if you are running an existing Algorand node on the same server, at it will likely overwrite your Algorand installation.\rSet up repository Run the following commands to download some requirements and add the algorand repository, from which you will be getting your node software and its updates: sudo apt install -y jq bc gnupg2 curl software-properties-common curl -o - https://releases.algorand.com/key.pub | sudo tee /etc/apt/trusted.gpg.d/algorand.asc sudo add-apt-repository \"deb [arch=amd64] https://releases.algorand.com/deb/ stable main\" You will see a long output that ends in this prompt:\n-----END PGP PUBLIC KEY BLOCK----- Repository: 'deb [arch=amd64] https://releases.algorand.com/deb/ stable main' Description: Archive for codename: stable components: main More info: https://releases.algorand.com/deb/ Adding repository. Press [ENTER] to continue or Ctrl-c to cancel. As the prompt indicates, press ENTER to continue. Install the node Run this command to install the node: sudo apt update \u0026\u0026 sudo apt install -y algorand \u0026\u0026 echo OK Expected output will be similar to this:\nThe following NEW packages will be installed: algorand 0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded. Need to get 0 B/108 MB of archives. After this operation, 0 B of additional disk space will be used. Selecting previously unselected package algorand. (Reading database ... 33854 files and directories currently installed.) Preparing to unpack .../algorand_3.17.0_amd64.deb ... Unpacking algorand (3.17.0) ... Setting up algorand (3.17.0) ... Created symlink /etc/systemd/system/multi-user.target.wants/algorand.service ‚Üí /lib/systemd/system/algorand.service. OK Stop the node By default, the algorand node will auto-start, which we do not want. Stop it with:\nsudo systemctl stop algorand \u0026\u0026 sudo systemctl disable algorand \u0026\u0026 echo OK Expected output: OK\nSet up your shell to run goal Run this command to help goal run properly on your shell:\necho -e \"\\nexport ALGORAND_DATA=/var/lib/algorand/\" \u003e\u003e ~/.bashrc \u0026\u0026 source ~/.bashrc \u0026\u0026 echo OK Set up your user sudo adduser $(whoami) algorand \u0026\u0026 echo OK Expected last line of output: OK\nConfigure your node for voi Run these commands: sudo algocfg set -p DNSBootstrapID -v \".voi.network\" -d /var/lib/algorand/ \u0026\u0026\\ sudo algocfg set -p EnableCatchupFromArchiveServers -v true -d /var/lib/algorand/ \u0026\u0026\\ sudo chown algorand:algorand /var/lib/algorand/config.json \u0026\u0026\\ sudo chmod g+w /var/lib/algorand/config.json \u0026\u0026\\ echo OK Expected output: OK\nRun this command to fetch the genesis file: sudo curl -s -o /var/lib/algorand/genesis.json https://testnet-api.voi.nodly.io/genesis \u0026\u0026\\ sudo chown algorand:algorand /var/lib/algorand/genesis.json \u0026\u0026\\ echo OK Expected output: OK\nRename the algorand service to voi: sudo cp /lib/systemd/system/algorand.service /etc/systemd/system/voi.service \u0026\u0026\\ sudo sed -i 's/Algorand daemon/Voi daemon/g' /etc/systemd/system/voi.service \u0026\u0026\\ echo OK Expected output: OK\nStart your node Time to start your node! Run this command to start your Voi node \u0026 configure it to restart automatically after a reboot:\nsudo systemctl start voi \u0026\u0026 sudo systemctl enable voi \u0026\u0026 echo OK Expected last line of output: OK\nCheck your status Check the status of your node with the following command:\ngoal node status Expected output should look like this:\nLast committed block: 7 Time since last block: 1.0s Sync Time: 3.5s Last consensus protocol: https://github.com/algorandfoundation/specs/tree/abd3d4823c6f77349fc04c3af7b1e99fe4df699f Next consensus protocol: https://github.com/algorandfoundation/specs/tree/abd3d4823c6f77349fc04c3af7b1e99fe4df699f Round for next consensus protocol: 8 Next consensus protocol supported: true Last Catchpoint: Genesis ID: voitest-v1 Genesis hash: IXnoWtviVVJW5LGivNFc0Dq14V3kqaXuK2u5OQrdVZo= It is important to check the Genesis ID and hash lines match:\nGenesis ID: voitest-v1\nand\nGenesis hash: IXnoWtviVVJW5LGivNFc0Dq14V3kqaXuK2u5OQrdVZo=\nFast catch up with the network Run the following command:\ngoal node catchup $(curl -s https://testnet-api.voi.nodly.io/v2/status|jq -r '.[\"last-catchpoint\"]') \u0026\u0026\\ echo OK Expected last line of output: OK\n‚ùó Error? If you encounter an error in this step, check the error carefully. If it includes already catching up towards the end, then everything is OK and you can proceed to the next step.\nIf you get an error that includes unable to start catchpoint service for requested catchpoint then try restarting the voi service and attempt to catch up again.\nTo restart the service use:\nsudo systemctl restart voi \u0026\u0026 echo OK Expected output: OK.\nThen you should retry the catchup command. If you try the restart-catchup a few times and if it still doesn‚Äôt work, reach out on the Discord.\nCheck the node‚Äôs status Check status with this command:\ngoal node status There should now be several ‚ÄúCatchpoint: ‚Ä¶‚Äù lines, like so:\nLast committed block: 33069 Sync Time: 181.3s Catchpoint: 30000#33ABPU3KRJEQIX4NCTMK4CSBNXWDXSN36X47OHDKJEVW7MPSK3ZA Catchpoint total accounts: 33 Catchpoint accounts processed: 33 Catchpoint accounts verified: 33 Catchpoint total KVs: 0 Catchpoint KVs processed: 0 Catchpoint KVs verified: 0 Catchpoint total blocks: 1321 Catchpoint downloaded blocks: 796 Genesis ID: voitest-v1 Genesis hash: IXnoWtviVVJW5LGivNFc0Dq14V3kqaXuK2u5OQrdVZo= If this does not happen, start over from the start of this section (‚ÄúFast catchup with the network‚Äù) or seek help on the Voi Discord.\nIf it does, it means that your node is processing a fast catchup to the latest state, which can save a lot of time.\nWait for fast catchup to complete Run this command and wait until the ‚ÄúCatchpoint‚Äù lines disappear:\ngoal node status -w 1000 When the checkpoint lines disappear, wait for ‚ÄúSync Time‚Äù to be 0.0s\nAfter this you can exit the status command with Ctrl+C. You are now all synced up!\n[Optional] Enable Telemetry You can optionally enable node telemetry which will report stats and errors in order to detect issues and improve the blockchain.\n‚ÑπÔ∏è\rThe initial node runners seed/airdrop will depend on telemetry data. If you want to receive it, you need to enable telemetry. Beyond that, block rewards will not depend on telemetry being enabled.\rThe following command will attach a friendly name to your telemetry. Replace ‚ÄúXXX‚Äù with your desired name, something like your NFD or nickname.\nsudo ALGORAND_DATA=/var/lib/algorand diagcfg telemetry name -n XXX Then you can enable telemetry and restart the voi service with this command:\nsudo ALGORAND_DATA=/var/lib/algorand diagcfg telemetry enable \u0026\u0026\\ sudo systemctl restart voi You can check if the telemetry is working correctly by checking the Node Health section of the Monitoring web interface.\nüß† Pro tip: Reduced logging interferes with telemetry If you have manually disabled or reduced logging on your node, telemetry will not work.\nYour config.json must have BaseLoggerDebugLevel set to 4 (or not set at all.)\nIf you are following this guide without modifications, you can ignore this tip.\nJoin the node runners channel To access the #node-runners channel on the Voi Discord, you need to:\nJoin the server and visit the #roles channel. Emote with a running emoji üèÉ to the message there. You should be able to access the #node-runners channel. You can get 1 VOI to participate by running the command /voi-testnet-faucet in the #node-runners channel.\nParticipation This part of the guide will walk you through adding an address via mnemonic to your node, generating participation keys and going online.\nCreate a node wallet container The current recommendation is to use your node to sign transactions that will take your account online (participating) or offline (not participating.)\nFor this you will need to create an encrypted container (‚Äúwallet‚Äù) that is secured by a password. Your seed phrase(s) will be encrypted with this password, so pick something long and unpredictable. In the event that your node is compromised, this password will be all that stands between the attacker and your seed phrases.\nYou will need to enter this password whenever you need to sign transactions on your node.\nüß† Pro tip: How to generate a random 12 character password on your node You can generate a random 12 character password on your node with this command:\ntr -dc A-Z0-9 ","wordCount":"3852","inLanguage":"en","image":"https://d13.co/voi.png","datePublished":"2023-09-06T08:19:15+05:00","dateModified":"2023-09-06T08:19:15+05:00","author":{"@type":"Person","name":"Bit @ D13.co"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://d13.co/posts/set-up-voi-participation-node/"},"publisher":{"@type":"Organization","name":"D13.co","logo":{"@type":"ImageObject","url":"https://d13.co/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://d13.co/ accesskey=h title="  (Alt + H)"><img src=https://d13.co/images/logo-7-green-128.png alt=logo aria-label=logo height=48></a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://d13.co/>Home</a>&nbsp;¬ª&nbsp;<a href=https://d13.co/posts/>Posts</a></div><h1 class=post-title>Set Up Voi Participation Node on Ubuntu 22.04</h1><div class=post-meta>&lt;span title='2023-09-06 08:19:15 +0500 +0500'>September 6, 2023&lt;/span>&amp;nbsp;¬∑&amp;nbsp;19 min&amp;nbsp;¬∑&amp;nbsp;3852 words&amp;nbsp;¬∑&amp;nbsp;Bit @ D13.co&nbsp;|&nbsp;<a href=https://github.com/d13co/d13.co/tree/main/content/posts/set-up-voi-participation-node/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=lazy srcset="https://d13.co/posts/set-up-voi-participation-node/voi_hub1c0bc7ea1e09b846654637fbc2739c5_1552362_360x0_resize_box_3.png 360w ,https://d13.co/posts/set-up-voi-participation-node/voi_hub1c0bc7ea1e09b846654637fbc2739c5_1552362_480x0_resize_box_3.png 480w ,https://d13.co/posts/set-up-voi-participation-node/voi_hub1c0bc7ea1e09b846654637fbc2739c5_1552362_720x0_resize_box_3.png 720w ,https://d13.co/posts/set-up-voi-participation-node/voi_hub1c0bc7ea1e09b846654637fbc2739c5_1552362_1080x0_resize_box_3.png 1080w ,https://d13.co/posts/set-up-voi-participation-node/voi_hub1c0bc7ea1e09b846654637fbc2739c5_1552362_1500x0_resize_box_3.png 1500w ,https://d13.co/posts/set-up-voi-participation-node/voi.png 3840w" sizes="(min-width: 768px) 720px, 100vw" src=https://d13.co/posts/set-up-voi-participation-node/voi.png alt width=3840 height=2160></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#hardware-requirements>Hardware Requirements</a></li><li><a href=#check-your-ubuntu-version>Check your Ubuntu version</a></li><li><a href=#check-your-architecture>Check your architecture</a></li><li><a href=#update-your-software-to-the-latest-versions>Update your software to the latest versions</a></li><li><a href=#enable-automatic-software-upgrades>Enable automatic software upgrades</a></li><li><a href=#install-algorand-node-software>Install Algorand node software</a><ul><li><a href=#set-up-repository>Set up repository</a></li><li><a href=#install-the-node>Install the node</a></li></ul></li><li><a href=#stop-the-node>Stop the node</a><ul><li><a href=#set-up-your-shell-to-run-goal>Set up your shell to run goal</a></li><li><a href=#set-up-your-user>Set up your user</a></li></ul></li><li><a href=#configure-your-node-for-voi>Configure your node for voi</a><ul><li><a href=#start-your-node>Start your node</a></li><li><a href=#check-your-status>Check your status</a></li><li><a href=#fast-catch-up-with-the-network>Fast catch up with the network</a></li><li><a href=#check-the-nodes-status>Check the node&rsquo;s status</a></li><li><a href=#optional-enable-telemetry>[Optional] Enable Telemetry</a></li></ul></li><li><a href=#join-the-node-runners-channel>Join the node runners channel</a></li><li><a href=#participation>Participation</a><ul><li><a href=#create-a-node-wallet-container>Create a node wallet container</a></li><li><a href=#create-or-import-your-participating-address>Create or import your participating address</a></li><li><a href=#generate-your-participation-keys>Generate your participation keys</a></li><li><a href=#check-your-participation-status>Check your participation status</a></li><li><a href=#register-to-go-online>Register to go online</a></li><li><a href=#register-to-go-offline>Register to go offline</a></li><li><a href=#renew-your-participation-keys>Renew your participation keys</a></li></ul></li><li><a href=#monitoring>Monitoring</a></li><li><a href=#fin>Fin</a></li></ul></nav></div></details></div><div class=post-content><p>This article will guide you through setting up a Voi participation node on the latest Ubuntu LTS (22.04). It assumes you start with a local or remote (server/cloud) installation. Version 20.04 should also work, but is not tested extensively. This guide is only suitable for <code>x86</code> architecture machines as it relies on the Algorand repository, which does not publish packages for other architectures such as ARM64.</p><style>#callout{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px}#callout-inner{margin-left:1em}@media(max-width:767px){#callout{padding:1.5em .75em 1.5em .6em}#callout-inner{margin-left:.5em}}</style><div id=callout><div>‚ö†Ô∏è</div><div id=callout-inner>Do not follow this guide if you are running an existing Algorand node on the same server, at it will likely overwrite your Algorand installation.</div></div><style>.details-collapsible{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;padding-bottom:.5rem}.details-collapsible p:first-of-type{border-top:1px rgba(127,127,127,.2)solid;padding-top:.75em}.details-collapsible p{margin-left:1em}.details-collapsible summary{margin-bottom:1em}.details-collapsible summary::marker{border:1px red solid}@media(max-width:767px){#details-collapsible{padding:1.5em .75em 1.5em .6em}#details-collapsible-inner{margin-left:.5em}}</style><details class=details-collapsible><summary>ü™ô ¬†You will need to have some $VOI balance to complete this guide.</summary><p>You will need $VOI because:</p><ul><li>Transacting on the VOI network requires a small fee (0.001 $VOI)</li><li>Participating in consensus is proportional to your balance</li></ul><p>The last step of this guide includes &ldquo;going online&rdquo;, i.e. registering to participate in consensus. This is an on-chain transaction that costs 0.001 $VOI.</p><p>If you do not have $VOI yet, you can still complete all steps until that point while you wait to get some $VOI.</p><p>You can get 1 VOI to participate by running the command <code>/voi-testnet-faucet</code> on <code>#node-runners</code> on the <a href=#join-the-node-runners-channel>Voi Discord</a>.</p></details><style>#callout{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px}#callout-inner{margin-left:1em}@media(max-width:767px){#callout{padding:1.5em .75em 1.5em .6em}#callout-inner{margin-left:.5em}}</style><div id=callout><div>‚ÑπÔ∏è</div><div id=callout-inner>Code blocks can be copied for your convenience.</div></div><h2 id=hardware-requirements>Hardware Requirements<a hidden class=anchor aria-hidden=true href=#hardware-requirements>#</a></h2><p>You will need the following specs for your participation node:</p><ul><li>CPU with 8 <strong>threads</strong> (4 core / 8 thread is fine)</li><li>16 GB RAM</li><li>100 GB NVMe SSD or equivalent</li><li>100 Mbps connection minimum<ul><li>Ideally: 1 Gbps connection with low latency</li><li>Must be always online</li></ul></li></ul><h2 id=check-your-ubuntu-version>Check your Ubuntu version<a hidden class=anchor aria-hidden=true href=#check-your-ubuntu-version>#</a></h2><p>Check that you are running Ubuntu. Run this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>lsb_release -a
</span></span></code></pre></div><p>It should output a version of Ubuntu:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>No LSB modules are available.
</span></span><span class=line><span class=cl>Distributor ID:	Ubuntu
</span></span><span class=line><span class=cl>Description:	Ubuntu 22.04.3 LTS
</span></span><span class=line><span class=cl>Release:	22.04
</span></span><span class=line><span class=cl>Codename:	jammy
</span></span></code></pre></div><p>20.04 should also work.</p><h2 id=check-your-architecture>Check your architecture<a hidden class=anchor aria-hidden=true href=#check-your-architecture>#</a></h2><p>Check that you are on an <code>x86</code> machine. Run this command:</p><pre tabindex=0><code>uname -p
</code></pre><p>Expected output: <code>x86_64</code>.</p><p>If you get a different response (such as <code>aarch64</code> for ARM64) then this guide will not work as-is due to ARM packages of Algorand not being available through the repository that this guide uses.</p><style>.details-collapsible{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;padding-bottom:.5rem}.details-collapsible p:first-of-type{border-top:1px rgba(127,127,127,.2)solid;padding-top:.75em}.details-collapsible p{margin-left:1em}.details-collapsible summary{margin-bottom:1em}.details-collapsible summary::marker{border:1px red solid}@media(max-width:767px){#details-collapsible{padding:1.5em .75em 1.5em .6em}#details-collapsible-inner{margin-left:.5em}}</style><details class=details-collapsible><summary>‚ö° If you are technically savvy and on a non-x86 machine&mldr;</summary><p>You can start with <a href=https://d13.co/set-up-algorand-participation-node-on-oracle-cloud-free/#step-5-install-algod>Step 5 of the Algorand-Oracle guide</a> to install algod and then resume from the [set up your shell to run goal](#set up your shell to run goal) part <strong>but you will need to modify the commands</strong>:</p><ul><li>replacing <code>/var/lib/algorand</code> with <code>/home/ubuntu/node/data</code> everywhere<ul><li>assuming your user is <code>ubuntu</code>. Check this with the command <code>whoami</code>.</li></ul></li><li>run: <code>sudo apt install -y jq</code></li><li>run: <code>echo 'export PATH=$PATH:/home/ubuntu/node' >> ~/.bashrc && source ~/.bashrc</code></li><li>skip the &ldquo;Set up your user&rdquo; command: <code>sudo adduser $(whoami) algorand && echo OK</code></li><li>skip the &ldquo;Rename the algorand service to voi&rdquo; part</li><li>skip the <code>sudo chown algorand:algorand</code> commands</li><li>skip the <code>sudo chmod g+w /var/lib/algorand/config.json</code> command</li><li>the <code>systemctl</code> commands need to be modified, instead of <code>systemctl start voi</code> you will need <code>systemctl start algorand@-home-ubuntu-node-data</code></li><li>remove <code>sudo</code> <strong>except for <code>systemctl</code> commands</strong></li></ul></details><h2 id=update-your-software-to-the-latest-versions>Update your software to the latest versions<a hidden class=anchor aria-hidden=true href=#update-your-software-to-the-latest-versions>#</a></h2><p>Run:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>DEBIAN_FRONTEND</span><span class=o>=</span>noninteractive <span class=o>&amp;&amp;</span> sudo apt-get upgrade -y <span class=o>&amp;&amp;</span> <span class=nb>echo</span> OK
</span></span></code></pre></div><p>Expected output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>(many lines...)
</span></span><span class=line><span class=cl>? upgraded, ? newly installed, ? to remove and ? not upgraded.
</span></span><span class=line><span class=cl>OK
</span></span></code></pre></div><h2 id=enable-automatic-software-upgrades>Enable automatic software upgrades<a hidden class=anchor aria-hidden=true href=#enable-automatic-software-upgrades>#</a></h2><p>Run this, which will keep your node software up to date:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl start unattended-upgrades <span class=o>&amp;&amp;</span> sudo systemctl <span class=nb>enable</span> unattended-upgrades
</span></span></code></pre></div><p>Expected output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Synchronizing state of unattended-upgrades.service with SysV service script with /lib/systemd/systemd-sysv-install.
</span></span><span class=line><span class=cl>Executing: /lib/systemd/systemd-sysv-install enable unattended-upgrades
</span></span></code></pre></div><h2 id=install-algorand-node-software>Install Algorand node software<a hidden class=anchor aria-hidden=true href=#install-algorand-node-software>#</a></h2><style>#callout{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px}#callout-inner{margin-left:1em}@media(max-width:767px){#callout{padding:1.5em .75em 1.5em .6em}#callout-inner{margin-left:.5em}}</style><div id=callout><div>‚ö†Ô∏è</div><div id=callout-inner>Do not follow this guide if you are running an existing Algorand node on the same server, at it will likely overwrite your Algorand installation.</div></div><h3 id=set-up-repository>Set up repository<a hidden class=anchor aria-hidden=true href=#set-up-repository>#</a></h3><ol><li>Run the following commands to download some requirements and add the algorand repository, from which you will be getting your node software and its updates:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install -y jq bc gnupg2 curl software-properties-common
</span></span><span class=line><span class=cl>curl -o - https://releases.algorand.com/key.pub <span class=p>|</span> sudo tee /etc/apt/trusted.gpg.d/algorand.asc
</span></span><span class=line><span class=cl>sudo add-apt-repository <span class=s2>&#34;deb [arch=amd64] https://releases.algorand.com/deb/ stable main&#34;</span>
</span></span></code></pre></div><p>You will see a long output that ends in this prompt:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>-----END PGP PUBLIC KEY BLOCK-----
</span></span><span class=line><span class=cl>Repository: &#39;deb [arch=amd64] https://releases.algorand.com/deb/ stable main&#39;
</span></span><span class=line><span class=cl>Description:
</span></span><span class=line><span class=cl>Archive for codename: stable components: main
</span></span><span class=line><span class=cl>More info: https://releases.algorand.com/deb/
</span></span><span class=line><span class=cl>Adding repository.
</span></span><span class=line><span class=cl>Press [ENTER] to continue or Ctrl-c to cancel.
</span></span></code></pre></div><ol start=2><li>As the prompt indicates, press <code>ENTER</code> to continue.</li></ol><h3 id=install-the-node>Install the node<a hidden class=anchor aria-hidden=true href=#install-the-node>#</a></h3><ol><li>Run this command to install the node:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update <span class=o>&amp;&amp;</span> sudo apt install -y algorand <span class=o>&amp;&amp;</span> <span class=nb>echo</span> OK
</span></span></code></pre></div><p>Expected output will be similar to this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>The following NEW packages will be installed:
</span></span><span class=line><span class=cl>  algorand
</span></span><span class=line><span class=cl>0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
</span></span><span class=line><span class=cl>Need to get 0 B/108 MB of archives.
</span></span><span class=line><span class=cl>After this operation, 0 B of additional disk space will be used.
</span></span><span class=line><span class=cl>Selecting previously unselected package algorand.
</span></span><span class=line><span class=cl>(Reading database ... 33854 files and directories currently installed.)
</span></span><span class=line><span class=cl>Preparing to unpack .../algorand_3.17.0_amd64.deb ...
</span></span><span class=line><span class=cl>Unpacking algorand (3.17.0) ...
</span></span><span class=line><span class=cl>Setting up algorand (3.17.0) ...
</span></span><span class=line><span class=cl>Created symlink /etc/systemd/system/multi-user.target.wants/algorand.service ‚Üí /lib/systemd/system/algorand.service.
</span></span><span class=line><span class=cl>OK
</span></span></code></pre></div><h2 id=stop-the-node>Stop the node<a hidden class=anchor aria-hidden=true href=#stop-the-node>#</a></h2><p>By default, the algorand node will auto-start, which we do not want. Stop it with:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl stop algorand <span class=o>&amp;&amp;</span> sudo systemctl disable algorand <span class=o>&amp;&amp;</span> <span class=nb>echo</span> OK
</span></span></code></pre></div><p>Expected output: <code>OK</code></p><h3 id=set-up-your-shell-to-run-goal>Set up your shell to run goal<a hidden class=anchor aria-hidden=true href=#set-up-your-shell-to-run-goal>#</a></h3><p>Run this command to help <code>goal</code> run properly on your shell:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\nexport ALGORAND_DATA=/var/lib/algorand/&#34;</span> &gt;&gt; ~/.bashrc <span class=o>&amp;&amp;</span> <span class=nb>source</span> ~/.bashrc <span class=o>&amp;&amp;</span> <span class=nb>echo</span> OK
</span></span></code></pre></div><h3 id=set-up-your-user>Set up your user<a hidden class=anchor aria-hidden=true href=#set-up-your-user>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo adduser <span class=k>$(</span>whoami<span class=k>)</span> algorand <span class=o>&amp;&amp;</span> <span class=nb>echo</span> OK
</span></span></code></pre></div><p>Expected last line of output: <code>OK</code></p><h2 id=configure-your-node-for-voi>Configure your node for voi<a hidden class=anchor aria-hidden=true href=#configure-your-node-for-voi>#</a></h2><ol><li>Run these commands:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo algocfg <span class=nb>set</span> -p DNSBootstrapID -v <span class=s2>&#34;&lt;network&gt;.voi.network&#34;</span> -d /var/lib/algorand/ <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>sudo algocfg <span class=nb>set</span> -p EnableCatchupFromArchiveServers -v <span class=nb>true</span> -d /var/lib/algorand/ <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>sudo chown algorand:algorand /var/lib/algorand/config.json <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>sudo chmod g+w /var/lib/algorand/config.json <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nb>echo</span> OK
</span></span></code></pre></div><p>Expected output: <code>OK</code></p><ol start=2><li>Run this command to fetch the genesis file:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo curl -s -o /var/lib/algorand/genesis.json https://testnet-api.voi.nodly.io/genesis <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>sudo chown algorand:algorand /var/lib/algorand/genesis.json <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nb>echo</span> OK
</span></span></code></pre></div><p>Expected output: <code>OK</code></p><ol start=3><li>Rename the algorand service to voi:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo cp /lib/systemd/system/algorand.service /etc/systemd/system/voi.service <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>sudo sed -i <span class=s1>&#39;s/Algorand daemon/Voi daemon/g&#39;</span> /etc/systemd/system/voi.service <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nb>echo</span> OK
</span></span></code></pre></div><p>Expected output: <code>OK</code></p><h3 id=start-your-node>Start your node<a hidden class=anchor aria-hidden=true href=#start-your-node>#</a></h3><p>Time to start your node! Run this command to start your Voi node & configure it to restart automatically after a reboot:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl start voi <span class=o>&amp;&amp;</span> sudo systemctl <span class=nb>enable</span> voi <span class=o>&amp;&amp;</span> <span class=nb>echo</span> OK
</span></span></code></pre></div><p>Expected last line of output: <code>OK</code></p><h3 id=check-your-status>Check your status<a hidden class=anchor aria-hidden=true href=#check-your-status>#</a></h3><p>Check the status of your node with the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>goal node status
</span></span></code></pre></div><p>Expected output should look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Last committed block: 7
</span></span><span class=line><span class=cl>Time since last block: 1.0s
</span></span><span class=line><span class=cl>Sync Time: 3.5s
</span></span><span class=line><span class=cl>Last consensus protocol: https://github.com/algorandfoundation/specs/tree/abd3d4823c6f77349fc04c3af7b1e99fe4df699f
</span></span><span class=line><span class=cl>Next consensus protocol: https://github.com/algorandfoundation/specs/tree/abd3d4823c6f77349fc04c3af7b1e99fe4df699f
</span></span><span class=line><span class=cl>Round for next consensus protocol: 8
</span></span><span class=line><span class=cl>Next consensus protocol supported: true
</span></span><span class=line><span class=cl>Last Catchpoint:
</span></span><span class=line><span class=cl>Genesis ID: voitest-v1
</span></span><span class=line><span class=cl>Genesis hash: IXnoWtviVVJW5LGivNFc0Dq14V3kqaXuK2u5OQrdVZo=
</span></span></code></pre></div><p>It is important to check the Genesis ID and hash lines match:</p><p><code>Genesis ID: voitest-v1</code></p><p>and</p><p><code>Genesis hash: IXnoWtviVVJW5LGivNFc0Dq14V3kqaXuK2u5OQrdVZo=</code></p><h3 id=fast-catch-up-with-the-network>Fast catch up with the network<a hidden class=anchor aria-hidden=true href=#fast-catch-up-with-the-network>#</a></h3><p>Run the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>goal node catchup <span class=k>$(</span>curl -s https://testnet-api.voi.nodly.io/v2/status<span class=p>|</span>jq -r <span class=s1>&#39;.[&#34;last-catchpoint&#34;]&#39;</span><span class=k>)</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nb>echo</span> OK
</span></span></code></pre></div><p>Expected last line of output: <code>OK</code></p><style>.details-collapsible{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;padding-bottom:.5rem}.details-collapsible p:first-of-type{border-top:1px rgba(127,127,127,.2)solid;padding-top:.75em}.details-collapsible p{margin-left:1em}.details-collapsible summary{margin-bottom:1em}.details-collapsible summary::marker{border:1px red solid}@media(max-width:767px){#details-collapsible{padding:1.5em .75em 1.5em .6em}#details-collapsible-inner{margin-left:.5em}}</style><details class=details-collapsible><summary>‚ùó Error?</summary><p>If you encounter an error in this step, check the error carefully. If it includes <code>already catching up</code> towards the end, then everything is OK and you can proceed to the next step.</p><hr><p>If you get an error that includes <code>unable to start catchpoint service for requested catchpoint</code> then try restarting the voi service and attempt to catch up again.</p><p>To restart the service use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl restart voi <span class=o>&amp;&amp;</span> <span class=nb>echo</span> OK
</span></span></code></pre></div><p>Expected output: <code>OK</code>.</p><p>Then you should retry the catchup command. If you try the restart-catchup a few times and if it still doesn&rsquo;t work, reach out on the <a href=#join-the-node-runners-channel>Discord</a>.</p></details><h3 id=check-the-nodes-status>Check the node&rsquo;s status<a hidden class=anchor aria-hidden=true href=#check-the-nodes-status>#</a></h3><p>Check status with this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>goal node status
</span></span></code></pre></div><p>There should now be several &ldquo;Catchpoint: &mldr;&rdquo; lines, like so:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Last committed block: 33069
</span></span><span class=line><span class=cl>Sync Time: 181.3s
</span></span><span class=line><span class=cl>Catchpoint: 30000#33ABPU3KRJEQIX4NCTMK4CSBNXWDXSN36X47OHDKJEVW7MPSK3ZA
</span></span><span class=line><span class=cl>Catchpoint total accounts: 33
</span></span><span class=line><span class=cl>Catchpoint accounts processed: 33
</span></span><span class=line><span class=cl>Catchpoint accounts verified: 33
</span></span><span class=line><span class=cl>Catchpoint total KVs: 0
</span></span><span class=line><span class=cl>Catchpoint KVs processed: 0
</span></span><span class=line><span class=cl>Catchpoint KVs verified: 0
</span></span><span class=line><span class=cl>Catchpoint total blocks: 1321
</span></span><span class=line><span class=cl>Catchpoint downloaded blocks: 796
</span></span><span class=line><span class=cl>Genesis ID: voitest-v1
</span></span><span class=line><span class=cl>Genesis hash: IXnoWtviVVJW5LGivNFc0Dq14V3kqaXuK2u5OQrdVZo=
</span></span></code></pre></div><p>If this does not happen, start over from the start of this section (&ldquo;Fast catchup with the network&rdquo;) or seek help on the <a href=#join-the-node-runners-channel>Voi Discord</a>.</p><p>If it does, it means that your node is processing a fast catchup to the latest state, which can save a lot of time.</p><h4 id=wait-for-fast-catchup-to-complete>Wait for fast catchup to complete<a hidden class=anchor aria-hidden=true href=#wait-for-fast-catchup-to-complete>#</a></h4><p>Run this command and wait until the &ldquo;Catchpoint&rdquo; lines disappear:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>goal node status -w <span class=m>1000</span>
</span></span></code></pre></div><p>When the checkpoint lines disappear, wait for &ldquo;Sync Time&rdquo; to be <code>0.0s</code></p><p>After this you can exit the status command with <code>Ctrl+C</code>. You are now all synced up!</p><h3 id=optional-enable-telemetry>[Optional] Enable Telemetry<a hidden class=anchor aria-hidden=true href=#optional-enable-telemetry>#</a></h3><p>You can optionally enable node telemetry which will report stats and errors in order to detect issues and improve the blockchain.</p><style>#callout{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px}#callout-inner{margin-left:1em}@media(max-width:767px){#callout{padding:1.5em .75em 1.5em .6em}#callout-inner{margin-left:.5em}}</style><div id=callout><div>‚ÑπÔ∏è</div><div id=callout-inner><strong>The initial node runners seed/airdrop will depend on telemetry data</strong>. If you want to receive it, you need to enable telemetry. Beyond that, block rewards will <em>not</em> depend on telemetry being enabled.</div></div><p>The following command will attach a friendly name to your telemetry. Replace &ldquo;XXX&rdquo; with your desired name, something like your NFD or nickname.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo <span class=nv>ALGORAND_DATA</span><span class=o>=</span>/var/lib/algorand diagcfg telemetry name -n XXX
</span></span></code></pre></div><p>Then you can enable telemetry and restart the voi service with this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo <span class=nv>ALGORAND_DATA</span><span class=o>=</span>/var/lib/algorand diagcfg telemetry <span class=nb>enable</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>sudo systemctl restart voi
</span></span></code></pre></div><p>You can check if the telemetry is working correctly by checking the <code>Node Health</code> section of the <a href=#monitoring>Monitoring</a> web interface.</p><style>.details-collapsible{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;padding-bottom:.5rem}.details-collapsible p:first-of-type{border-top:1px rgba(127,127,127,.2)solid;padding-top:.75em}.details-collapsible p{margin-left:1em}.details-collapsible summary{margin-bottom:1em}.details-collapsible summary::marker{border:1px red solid}@media(max-width:767px){#details-collapsible{padding:1.5em .75em 1.5em .6em}#details-collapsible-inner{margin-left:.5em}}</style><details class=details-collapsible><summary>üß† Pro tip: Reduced logging interferes with telemetry</summary><p>If you have manually disabled or reduced logging on your node, telemetry will not work.</p><p>Your <code>config.json</code> must have <code>BaseLoggerDebugLevel</code> set to <code>4</code> (or not set at all.)</p><p>If you are following this guide without modifications, you can ignore this tip.</p></details><h2 id=join-the-node-runners-channel>Join the node runners channel<a hidden class=anchor aria-hidden=true href=#join-the-node-runners-channel>#</a></h2><p>To access the <code>#node-runners</code> channel on the Voi Discord, you need to:</p><ol><li><a href=https://discord.gg/UPBnGr3qm8>Join the server and visit the #roles</a> channel.</li><li>Emote with a running emoji üèÉ to the message there.</li><li>You should be able to access the <a href=https://discord.gg/ZjAc4rSkgq>#node-runners</a> channel.</li></ol><p>You can get 1 VOI to participate by running the command <code>/voi-testnet-faucet</code> in the <code>#node-runners</code> channel.</p><h2 id=participation>Participation<a hidden class=anchor aria-hidden=true href=#participation>#</a></h2><p>This part of the guide will walk you through adding an address via mnemonic to your node, generating participation keys and going online.</p><h3 id=create-a-node-wallet-container>Create a node wallet container<a hidden class=anchor aria-hidden=true href=#create-a-node-wallet-container>#</a></h3><p>The current recommendation is to use your node to sign transactions that will take your account online (participating) or offline (not participating.)</p><p>For this you will need to create an encrypted container (&ldquo;wallet&rdquo;) that is secured by a password. <strong>Your seed phrase(s) will be encrypted with this password, so pick something long and unpredictable.</strong> In the event that your node is compromised, this password will be all that stands between the attacker and your seed phrases.</p><p>You will need to enter this password whenever you need to sign transactions on your node.</p><style>.details-collapsible{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;padding-bottom:.5rem}.details-collapsible p:first-of-type{border-top:1px rgba(127,127,127,.2)solid;padding-top:.75em}.details-collapsible p{margin-left:1em}.details-collapsible summary{margin-bottom:1em}.details-collapsible summary::marker{border:1px red solid}@media(max-width:767px){#details-collapsible{padding:1.5em .75em 1.5em .6em}#details-collapsible-inner{margin-left:.5em}}</style><details class=details-collapsible><summary>üß† Pro tip: How to generate a random 12 character password on your node</summary><p>You can generate a random 12 character password on your node with this command:</p><pre tabindex=0><code>tr -dc A-Z0-9 &lt;/dev/urandom | head -c 12 ; echo &#39;&#39;
</code></pre><p>You can then use this password in the next step.</p><p>Make sure to save this either on paper or in a password manager.</p></details><p>When you have decided on a very strong password, run this command to create the encrypted wallet container:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>goal wallet new voi
</span></span></code></pre></div><p>You will be prompted to enter a password. Note the warnings above and enter one.</p><p>Expected output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Please choose a password for wallet &#39;voi&#39;:
</span></span><span class=line><span class=cl>Please confirm the password:
</span></span><span class=line><span class=cl>Creating wallet...
</span></span><span class=line><span class=cl>Created wallet &#39;voi&#39;
</span></span><span class=line><span class=cl>Your new wallet has a backup phrase that can be used for recovery.
</span></span><span class=line><span class=cl>Keeping this backup phrase safe is extremely important.
</span></span><span class=line><span class=cl>Would you like to see it now? (Y/n):
</span></span></code></pre></div><p>You will then be prompted to view your backup seed phrase. Press <code>Y</code> and <code>ENTER</code> to view it. Save it somewhere securely.</p><h3 id=create-or-import-your-participating-address>Create or import your participating address<a hidden class=anchor aria-hidden=true href=#create-or-import-your-participating-address>#</a></h3><p>In this step you can import your Voi account mnemonic on your node. You can either create a new account, or import an existing one.</p><style>#callout{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px}#callout-inner{margin-left:1em}@media(max-width:767px){#callout{padding:1.5em .75em 1.5em .6em}#callout-inner{margin-left:.5em}}</style><div id=callout><div>‚ö†Ô∏è</div><div id=callout-inner><strong>We strongly recommend creating a new account for Voi.</strong> If you use an account that exists on Algorand, a potential compromise would affect you on both networks.</div></div><p>Choose your preferred method and expand it to view the instructions. You only need to do one of these.</p><style>.details-collapsible{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;padding-bottom:.5rem}.details-collapsible p:first-of-type{border-top:1px rgba(127,127,127,.2)solid;padding-top:.75em}.details-collapsible p{margin-left:1em}.details-collapsible summary{margin-bottom:1em}.details-collapsible summary::marker{border:1px red solid}@media(max-width:767px){#details-collapsible{padding:1.5em .75em 1.5em .6em}#details-collapsible-inner{margin-left:.5em}}</style><details class=details-collapsible><summary><strong>To create a new account, expand this section.</strong></summary><h4 id=step-1>Step 1<a hidden class=anchor aria-hidden=true href=#step-1>#</a></h4><p>You can create a new account in the container you just created with the following command:</p><pre tabindex=0><code>goal account new
</code></pre><p>You will be prompted for your wallet container password that you created earlier.</p><p>Expected output:</p><pre tabindex=0><code>Please enter the password for wallet &#39;voi&#39;:
Created new account with address AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
</code></pre><p>Copy the newly created address, as we will use it in the next step.</p><hr><h4 id=step-2>Step 2<a hidden class=anchor aria-hidden=true href=#step-2>#</a></h4><p>To display your new account&rsquo;s mnemonic, use this command:</p><pre tabindex=0><code>echo -ne &#34;\nEnter your voi address: &#34; &amp;&amp; read addr &amp;&amp;\
goal account export -a $addr
</code></pre><p>It will prompt you for 1) the address generated in step 1, and 2) the password you created earlier. Expected output:</p><p><code>Enter your voi address:</code></p><p><code>Please enter the password for wallet 'voi':</code></p><p><code>Exported key for account AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA: "crystal sing shy patient toddler lady crouch frown salmon toilet token educate leader comic ignore harvest strike holiday twist pulse better result beyond absorb come"</code></p><p>Save this mnemonic securely. A paper backup or a password manager are good options.</p><p>Great! You can now proceed to <a href=#generate-your-participation-keys>generating your participation keys</a></p></details><style>.details-collapsible{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;padding-bottom:.5rem}.details-collapsible p:first-of-type{border-top:1px rgba(127,127,127,.2)solid;padding-top:.75em}.details-collapsible p{margin-left:1em}.details-collapsible summary{margin-bottom:1em}.details-collapsible summary::marker{border:1px red solid}@media(max-width:767px){#details-collapsible{padding:1.5em .75em 1.5em .6em}#details-collapsible-inner{margin-left:.5em}}</style><details class=details-collapsible><summary><strong>To import an existing account using its mnemonic, expand this section.</strong></summary><p>Run this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>goal account import
</span></span></code></pre></div><p>Enter your wallet password that you created above when prompted, then type or paste the mnemonic seed of the Voi account that you want to participate with. Press <code>ENTER</code> to import.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Please enter the password for wallet &#39;voi&#39;:
</span></span><span class=line><span class=cl>Please type your recovery mnemonic below, and hit return when you are done:
</span></span><span class=line><span class=cl>apple apple apple apple ...
</span></span></code></pre></div><p>It should output <code>Imported [YOUR ADDRESS]</code></p></details><h3 id=generate-your-participation-keys>Generate your participation keys<a hidden class=anchor aria-hidden=true href=#generate-your-participation-keys>#</a></h3><p>Run this set of commands to generate the participation keys for your account.</p><p>It will prompt for:</p><ol><li>your Voi address (in some cases) and</li><li>the participation duration, defaulting to 2000000 rounds (77 days at 3.3 second rounds.) Press ENTER to accept that.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>getaddress() {
  if [ "$addr" == "" ]; then echo -ne "\nNote: Completing this will remember your address until you log out. "; else echo -ne "\nNote: Using previously entered address. "; fi; echo -e "To forget the address, press Ctrl+C and enter the command:\n\tunset addr\n";
  count=0; while ! (echo "$addr" | grep -E "^[A-Z2-7]{58}$" > /dev/null); do
    if [ $count -gt 0 ]; then echo "Invalid address, please try again."; fi
    echo -ne "\nEnter your voi address: "; read addr;
    addr=$(echo "$addr" | sed 's/ *$//g'); count=$((count+1));
  done; echo "Using address: $addr"
}
getaddress <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nb>echo</span> -ne <span class=s2>&#34;\nEnter duration in rounds [press ENTER to accept default)]: &#34;</span> <span class=o>&amp;&amp;</span> <span class=nb>read</span> duration <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>start</span><span class=o>=</span><span class=k>$(</span>goal node status <span class=p>|</span> grep <span class=s2>&#34;Last committed block:&#34;</span> <span class=p>|</span> cut -d<span class=se>\ </span> -f4<span class=k>)</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>duration</span><span class=o>=</span><span class=si>${</span><span class=nv>duration</span><span class=k>:-</span><span class=nv>2000000</span><span class=si>}</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>end</span><span class=o>=</span><span class=k>$((</span>start <span class=o>+</span> duration<span class=k>))</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>dilution</span><span class=o>=</span><span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;sqrt(</span><span class=nv>$end</span><span class=s2> - </span><span class=nv>$start</span><span class=s2>)&#34;</span> <span class=p>|</span> bc<span class=k>)</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>goal account addpartkey -a <span class=nv>$addr</span> --roundFirstValid <span class=nv>$start</span> --roundLastValid <span class=nv>$end</span> --keyDilution <span class=nv>$dilution</span>
</span></span></code></pre></div><style>.details-collapsible{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;padding-bottom:.5rem}.details-collapsible p:first-of-type{border-top:1px rgba(127,127,127,.2)solid;padding-top:.75em}.details-collapsible p{margin-left:1em}.details-collapsible summary{margin-bottom:1em}.details-collapsible summary::marker{border:1px red solid}@media(max-width:767px){#details-collapsible{padding:1.5em .75em 1.5em .6em}#details-collapsible-inner{margin-left:.5em}}</style><details class=details-collapsible><summary>‚ÑπÔ∏è Error? Entered the wrong address?</summary><p>If you see an error containing the words <code>value too great for base</code>, then you entered extra characters in the duration value.</p><p>Enter the number exactly without separators or suffixes like <code>M</code>, <code>K</code>, etc. Example: <code>2000000</code></p><hr><p>This set of scripts will remember your address for future commands (until you log out).</p><p>If you entered the wrong address, you can reset it by running this command:</p><pre tabindex=0><code>unset addr
</code></pre><p>Or by simply logging out and back in.</p><p>Then you can try again.</p></details><p>After entering your information, it will print <code>Please stand by while generating keys. This might take a few minutes...</code></p><p>After a few minutes, you should see:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Participation key generation successful. Participation ID: CJOZKSLXZUNEPPOFLRU7JPISOPRVMBJASP2EIFP6CKIKJTAIEMNA
</span></span><span class=line><span class=cl>Generated with goal v3.17.0
</span></span></code></pre></div><p>Your node is almost ready to register online and start participating in consensus. One more step to go!</p><h3 id=check-your-participation-status>Check your participation status<a hidden class=anchor aria-hidden=true href=#check-your-participation-status>#</a></h3><p>Before and after performing key registration (online/offline) transactions, you may find it useful to check your account&rsquo;s participation status with this command:</p><pre tabindex=0><code>getaddress() {
  if [ "$addr" == "" ]; then echo -ne "\nNote: Completing this will remember your address until you log out. "; else echo -ne "\nNote: Using previously entered address. "; fi; echo -e "To forget the address, press Ctrl+C and enter the command:\n\tunset addr\n";
  count=0; while ! (echo "$addr" | grep -E "^[A-Z2-7]{58}$" > /dev/null); do
    if [ $count -gt 0 ]; then echo "Invalid address, please try again."; fi
    echo -ne "\nEnter your voi address: "; read addr;
    addr=$(echo "$addr" | sed 's/ *$//g'); count=$((count+1));
  done; echo "Using address: $addr"
}
getaddress &amp;&amp;\
goal account dump -a $addr | jq -r &#39;if (.onl == 1) then &#34;You are online!&#34; else &#34;You are offline.&#34; end&#39;
</code></pre><style>.details-collapsible{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;padding-bottom:.5rem}.details-collapsible p:first-of-type{border-top:1px rgba(127,127,127,.2)solid;padding-top:.75em}.details-collapsible p{margin-left:1em}.details-collapsible summary{margin-bottom:1em}.details-collapsible summary::marker{border:1px red solid}@media(max-width:767px){#details-collapsible{padding:1.5em .75em 1.5em .6em}#details-collapsible-inner{margin-left:.5em}}</style><details class=details-collapsible><summary>‚ÑπÔ∏è Error? Entered the wrong address?</summary><p>This set of scripts will remember your address for future commands (until you log out).</p><p>If you entered the wrong address, you can reset it by running this command:</p><pre tabindex=0><code>unset addr
</code></pre><p>Or by simply logging out and back in.</p><p>Then you can try again.</p></details><p>If you are online (participating in consensus) this should output <code>You are online!</code>. Otherwise, it will output <code>You are offline.</code>.</p><h3 id=register-to-go-online>Register to go online<a hidden class=anchor aria-hidden=true href=#register-to-go-online>#</a></h3><style>#callout{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px}#callout-inner{margin-left:1em}@media(max-width:767px){#callout{padding:1.5em .75em 1.5em .6em}#callout-inner{margin-left:.5em}}</style><div id=callout><div>‚ö†Ô∏è</div><div id=callout-inner><strong>Whenever you intend to take your node offline, make sure to register offline first</strong> (next section). Being registered to participate without a node running actively harms the network.</div></div><style>#callout{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px}#callout-inner{margin-left:1em}@media(max-width:767px){#callout{padding:1.5em .75em 1.5em .6em}#callout-inner{margin-left:.5em}}</style><div id=callout><div>ü™ô</div><div id=callout-inner>You will need some $VOI to complete this step. If you do not have any, reach out on the <a href=#join-the-node-runners-channel>Voi Discord</a>. You can check your balance on the <a href=https://voi.observer/>Explorer</a>.</div></div><ol><li><p>Check that you are not registered online using the command in the <a href=#check-your-participation-status>previous section</a>. The output should be <code>You are offline.</code>.</p></li><li><p>You can register your account as participating in the Voi consensus with the following command:</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>getaddress() {
  if [ "$addr" == "" ]; then echo -ne "\nNote: Completing this will remember your address until you log out. "; else echo -ne "\nNote: Using previously entered address. "; fi; echo -e "To forget the address, press Ctrl+C and enter the command:\n\tunset addr\n";
  count=0; while ! (echo "$addr" | grep -E "^[A-Z2-7]{58}$" > /dev/null); do
    if [ $count -gt 0 ]; then echo "Invalid address, please try again."; fi
    echo -ne "\nEnter your voi address: "; read addr;
    addr=$(echo "$addr" | sed 's/ *$//g'); count=$((count+1));
  done; echo "Using address: $addr"
}
getaddress <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>goal account changeonlinestatus -a <span class=nv>$addr</span> -o<span class=o>=</span><span class=m>1</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>sleep <span class=m>1</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>goal account dump -a <span class=nv>$addr</span> <span class=p>|</span> jq -r <span class=s1>&#39;if (.onl == 1) then &#34;You are online!&#34; else &#34;You are offline.&#34; end&#39;</span>
</span></span></code></pre></div><p>You will see a prompt for your address (unless you entered it earlier) and your wallet password. After you enter it, you should see the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Please enter the password for wallet &#39;voi&#39;: 
</span></span><span class=line><span class=cl>Transaction id for status change transaction: 5KYUOGQYKTVPN5RBFFKDNMYUIQZY5RK5VQIMEDZDE2FPIB32M3OA
</span></span><span class=line><span class=cl>Transaction 5KYUOGQYKTVPN5RBFFKDNMYUIQZY5RK5VQIMEDZDE2FPIB32M3OA still pending as of round 34820
</span></span><span class=line><span class=cl>Transaction 5KYUOGQYKTVPN5RBFFKDNMYUIQZY5RK5VQIMEDZDE2FPIB32M3OA still pending as of round 34821
</span></span><span class=line><span class=cl>Transaction 5KYUOGQYKTVPN5RBFFKDNMYUIQZY5RK5VQIMEDZDE2FPIB32M3OA committed in round 34822
</span></span><span class=line><span class=cl>You are online!
</span></span></code></pre></div><h3 id=register-to-go-offline>Register to go offline<a hidden class=anchor aria-hidden=true href=#register-to-go-offline>#</a></h3><p>If you need to stop your participation node, you must register your account as offline.</p><p>This can be done with the following:</p><ol><li><p>Check that you are not registered online using the command in the <a href=#check-your-participation-status>relevant section</a>. The output should be <code>You are online!</code>.</p></li><li><p>Send a transaction to mark your account as offline:</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>getaddress() {
  if [ "$addr" == "" ]; then echo -ne "\nNote: Completing this will remember your address until you log out. "; else echo -ne "\nNote: Using previously entered address. "; fi; echo -e "To forget the address, press Ctrl+C and enter the command:\n\tunset addr\n";
  count=0; while ! (echo "$addr" | grep -E "^[A-Z2-7]{58}$" > /dev/null); do
    if [ $count -gt 0 ]; then echo "Invalid address, please try again."; fi
    echo -ne "\nEnter your voi address: "; read addr;
    addr=$(echo "$addr" | sed 's/ *$//g'); count=$((count+1));
  done; echo "Using address: $addr"
}
getaddress <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>goal account changeonlinestatus -a <span class=nv>$addr</span> -o<span class=o>=</span><span class=m>0</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>sleep <span class=m>1</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>goal account dump -a <span class=nv>$addr</span> <span class=p>|</span> jq -r <span class=s1>&#39;if (.onl == 1) then &#34;You are online!&#34; else &#34;You are offline.&#34; end&#39;</span>
</span></span></code></pre></div><p>You will see a prompt for your wallet password. After you enter it, you should see the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Please enter the password for wallet &#39;voi&#39;: 
</span></span><span class=line><span class=cl>Transaction id for status change transaction: 5KYUOGQYKTVPN5RBFFKDNMYUIQZY5RK5VQIMEDZDE2FPIB32M3OA
</span></span><span class=line><span class=cl>Transaction 5KYUOGQYKTVPN5RBFFKDNMYUIQZY5RK5VQIMEDZDE2FPIB32M3OA still pending as of round 34820
</span></span><span class=line><span class=cl>Transaction 5KYUOGQYKTVPN5RBFFKDNMYUIQZY5RK5VQIMEDZDE2FPIB32M3OA still pending as of round 34821
</span></span><span class=line><span class=cl>Transaction 5KYUOGQYKTVPN5RBFFKDNMYUIQZY5RK5VQIMEDZDE2FPIB32M3OA committed in round 34822
</span></span><span class=line><span class=cl>You are offline.
</span></span></code></pre></div><h3 id=renew-your-participation-keys>Renew your participation keys<a hidden class=anchor aria-hidden=true href=#renew-your-participation-keys>#</a></h3><p>Your participation keys will expire at some point. The default values above (2 million round validity) currently correspond to 77 days. This section explains how to renew your participation keys.</p><p>You can renew your expired participation key with this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>getaddress() {
  if [ "$addr" == "" ]; then echo -ne "\nNote: Completing this will remember your address until you log out. "; else echo -ne "\nNote: Using previously entered address. "; fi; echo -e "To forget the address, press Ctrl+C and enter the command:\n\tunset addr\n";
  count=0; while ! (echo "$addr" | grep -E "^[A-Z2-7]{58}$" > /dev/null); do
    if [ $count -gt 0 ]; then echo "Invalid address, please try again."; fi
    echo -ne "\nEnter your voi address: "; read addr;
    addr=$(echo "$addr" | sed 's/ *$//g'); count=$((count+1));
  done; echo "Using address: $addr"
}
getaddress <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nb>echo</span> -ne <span class=s2>&#34;\nEnter duration in rounds [press ENTER to accept default)]: &#34;</span> <span class=o>&amp;&amp;</span> <span class=nb>read</span> duration <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>start</span><span class=o>=</span><span class=k>$(</span>goal node status <span class=p>|</span> grep <span class=s2>&#34;Last committed block:&#34;</span> <span class=p>|</span> cut -d<span class=se>\ </span> -f4<span class=k>)</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>duration</span><span class=o>=</span><span class=si>${</span><span class=nv>duration</span><span class=k>:-</span><span class=nv>2000000</span><span class=si>}</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>end</span><span class=o>=</span><span class=k>$((</span>start <span class=o>+</span> duration<span class=k>))</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=nv>dilution</span><span class=o>=</span><span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;sqrt(</span><span class=nv>$end</span><span class=s2> - </span><span class=nv>$start</span><span class=s2>)&#34;</span> <span class=p>|</span> bc<span class=k>)</span> <span class=o>&amp;&amp;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>goal account renewpartkey -a <span class=nv>$addr</span> --roundLastValid <span class=nv>$end</span> --keyDilution <span class=nv>$dilution</span>
</span></span></code></pre></div><p>It will:</p><ul><li>Prompt you for your address (unless you have entered it earlier)</li><li>Prompt you for your desired participation key duration (just press enter to accept default - 2M / 77 days)</li><li>It will generate the keys (which may take a few minutes)</li><li>It will ask you for your wallet password, and</li><li>Submit the online transaction.</li></ul><style>.details-collapsible{background:rgba(127,127,127,.2);padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;padding-bottom:.5rem}.details-collapsible p:first-of-type{border-top:1px rgba(127,127,127,.2)solid;padding-top:.75em}.details-collapsible p{margin-left:1em}.details-collapsible summary{margin-bottom:1em}.details-collapsible summary::marker{border:1px red solid}@media(max-width:767px){#details-collapsible{padding:1.5em .75em 1.5em .6em}#details-collapsible-inner{margin-left:.5em}}</style><details class=details-collapsible><summary>‚ùó Possible Errors</summary><p><code>Account already has a participation key valid at least until roundLastValid</code></p><p>This will happen if you try to renew your current participation key with one that expires sooner, e.g. i your current participation key expires in 1 million rounds, and your renewal is attempting to last until 500K rounds.</p><p>Select a larger duration value and this error should go away.</p><hr><p><code>roundLastValid needs to be well after the current round</code></p><p>This happens if your duration is too short.</p><p>Select a larger duration value and this error should go away.</p></details><p>Expected output: <em>(your values will differ)</em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Using address: WEAKNODEZXOBMGNQ56UIBFSGYHJLFPBTGQ7LJJYQFFYCZTDZ4AMRUYYFLU
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Enter duration in rounds [press ENTER to accept default)]: 10000
</span></span><span class=line><span class=cl>Please stand by while generating keys. This might take a few minutes...
</span></span><span class=line><span class=cl>Participation key generation successful
</span></span><span class=line><span class=cl>Please enter the password for wallet &#39;voi&#39;:
</span></span><span class=line><span class=cl>Transaction id for status change transaction: TXDDH4VLD2N57Y4TAN4BSD5XUCYRUNIEBC6EL2ZZQHGTJSYGE25Q
</span></span><span class=line><span class=cl>Transaction TXDDH4VLD2N57Y4TAN4BSD5XUCYRUNIEBC6EL2ZZQHGTJSYGE25Q still pending as of round 482881
</span></span><span class=line><span class=cl>Transaction TXDDH4VLD2N57Y4TAN4BSD5XUCYRUNIEBC6EL2ZZQHGTJSYGE25Q still pending as of round 482882
</span></span><span class=line><span class=cl>Transaction TXDDH4VLD2N57Y4TAN4BSD5XUCYRUNIEBC6EL2ZZQHGTJSYGE25Q committed in round 482883
</span></span><span class=line><span class=cl>Participation key installed successfully, Participation ID: JX5GJ3ZYTJMXINMIOUNYKI6S37RPQ3JCQQR5XZ47QBPGWZPWWC5A
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Generated with goal v3.18.0
</span></span></code></pre></div><p>You should now be online and participating in consensus! You can check this with the status command in the <a href=#check-your-participation-status>&ldquo;Check your participation status&rdquo;</a> section.</p><h2 id=monitoring>Monitoring<a hidden class=anchor aria-hidden=true href=#monitoring>#</a></h2><p>Community member Boeieruurd has set up a <a href=https://voi-node-info.boeieruurd.com/>monitoring interface</a> here where you can see how your node is performing.</p><p><strong>It may take a while to have your participating address listed there</strong> depending on your Voi balance.</p><p>Scores over 9 are very good. Scores under 5 are considered &ldquo;failing&rdquo;.</p><h2 id=fin>Fin<a hidden class=anchor aria-hidden=true href=#fin>#</a></h2><p>That is it for now. Stay tuned for updates to this guide via the <a href=#join-the-node-runners-channel>Voi Discord</a>.</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://d13.co/posts/disclosure-tales-01-honing-fire/><span class=title>¬´ Prev</span><br><span>Disclosure Tales 01: Honing Fire</span>
</a><a class=next href=https://d13.co/posts/implementing-on-chain-vrf-shuffle-for-exa-lootbox-reveals/><span class=title>Next ¬ª</span><br><span>Implementing an on-chain VRF shuffle for EXA Lootbox Reveals</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Set Up Voi Participation Node on Ubuntu 22.04 on twitter" href="https://twitter.com/intent/tweet/?text=Set%20Up%20Voi%20Participation%20Node%20on%20Ubuntu%2022.04&amp;url=https%3a%2f%2fd13.co%2fposts%2fset-up-voi-participation-node%2f&amp;hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Set Up Voi Participation Node on Ubuntu 22.04 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fd13.co%2fposts%2fset-up-voi-participation-node%2f&amp;title=Set%20Up%20Voi%20Participation%20Node%20on%20Ubuntu%2022.04&amp;summary=Set%20Up%20Voi%20Participation%20Node%20on%20Ubuntu%2022.04&amp;source=https%3a%2f%2fd13.co%2fposts%2fset-up-voi-participation-node%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Set Up Voi Participation Node on Ubuntu 22.04 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fd13.co%2fposts%2fset-up-voi-participation-node%2f&title=Set%20Up%20Voi%20Participation%20Node%20on%20Ubuntu%2022.04"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Set Up Voi Participation Node on Ubuntu 22.04 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fd13.co%2fposts%2fset-up-voi-participation-node%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Set Up Voi Participation Node on Ubuntu 22.04 on whatsapp" href="https://api.whatsapp.com/send?text=Set%20Up%20Voi%20Participation%20Node%20on%20Ubuntu%2022.04%20-%20https%3a%2f%2fd13.co%2fposts%2fset-up-voi-participation-node%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Set Up Voi Participation Node on Ubuntu 22.04 on telegram" href="https://telegram.me/share/url?text=Set%20Up%20Voi%20Participation%20Node%20on%20Ubuntu%2022.04&amp;url=https%3a%2f%2fd13.co%2fposts%2fset-up-voi-participation-node%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://d13.co/>D13.co</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>